<!DOCTYPE html>
<html>
<head>
    <title>Anagram Checker</title>
    <style>
        body { font-family: Segoe UI, Arial; background: #f4f6f8; margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h1 { color: #333; }
        .input-section { background: #f9f9f9; padding: 15px; border-radius: 6px; margin: 20px 0; }
        input[type='text'] { padding: 8px; margin: 5px; width: 200px; border: 1px solid #ddd; border-radius: 4px; }
        button { padding: 8px 16px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #0056b3; }
        .result { padding: 10px; margin: 10px 0; border-radius: 4px; font-weight: 600; }
        .pass { background: #d4edda; color: #155724; }
        .fail { background: #f8d7da; color: #721c24; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background: #007bff; color: white; }
        tr:hover { background: #f5f5f5; }
        .status { font-weight: 600; }
        .true { color: green; }
        .false { color: red; }
    </style>
</head>
<body>
    <div class='container'>
        <h1>Anagram Checker Web Page</h1>
        <p>Test if two strings are anagrams using the API below.</p>
        
        <div class='input-section'>
            <h3>Check Custom Strings</h3>
            <input type='text' id='str1' placeholder='Enter first string' value='listen'>
            <input type='text' id='str2' placeholder='Enter second string' value='silent'>
            <button onclick='checkAnagram()'>Check</button>
            <div id='customResult'></div>
        </div>
        
        <h3>Test Data From Scenarios</h3>
        <table>
            <thead>
                <tr><th>String 1</th><th>String 2</th><th>Expected</th><th>Result</th><th>Action</th></tr>
            </thead>
            <tbody id='testTable'></tbody>
        </table>
    </div>
    
    <script>
        const testData = [
            { str1: 'listen', str2: 'silent', expected: true },
            { str1: 'hello', str2: 'world', expected: false },
            { str1: 'conversation', str2: 'voices rant on', expected: true },
            { str1: 'school master', str2: 'the classroom', expected: true },
            { str1: 'a gentleman', str2: 'elegant man', expected: true },
            { str1: 'eleven plus two', str2: 'twelve plus one', expected: true },
            { str1: 'apple', str2: 'paple', expected: true },
            { str1: 'rat', str2: 'car', expected: false }
        ];
        
        async function checkAnagram() {
            const str1 = document.getElementById('str1').value;
            const str2 = document.getElementById('str2').value;
            const resultDiv = document.getElementById('customResult');
            
            try {
                const resp = await fetch('/api/anagram', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ string1: str1, string2: str2 })
                });
                const data = await resp.json();
                const className = data.isAnagram ? 'pass' : 'fail';
                const text = data.isAnagram ? 'PASS: ARE anagrams' : 'FAIL: NOT anagrams';
                resultDiv.innerHTML = '<div class="result ' + className + '">' + text + '</div>';
            } catch (e) {
                resultDiv.innerHTML = '<div class="result fail">Error: ' + e.message + '</div>';
            }
        }
        
        async function runTest(str1, str2, expected) {
            try {
                const resp = await fetch('/api/anagram', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ string1: str1, string2: str2 })
                });
                const data = await resp.json();
                const pass = data.isAnagram === expected;
                return pass ? 'PASS' : 'FAIL';
            } catch (e) {
                return 'ERROR';
            }
        }
        
        async function loadTests() {
            const table = document.getElementById('testTable');
            for (const test of testData) {
                const row = document.createElement('tr');
                const result = await runTest(test.str1, test.str2, test.expected);
                const resultClass = result === 'PASS' ? 'true' : 'false';
                row.innerHTML = '<td>' + test.str1 + '</td><td>' + test.str2 + '</td><td class="status true">' + test.expected + '</td><td class="status ' + resultClass + '">' + result + '</td><td><button onclick="checkCustom(\'' + test.str1 + '\', \'' + test.str2 + '\')">Test</button></td>';
                table.appendChild(row);
            }
        }
        
        function checkCustom(str1, str2) {
            document.getElementById('str1').value = str1;
            document.getElementById('str2').value = str2;
            checkAnagram();
        }
        
        loadTests();
    </script>
</body>
</html>
